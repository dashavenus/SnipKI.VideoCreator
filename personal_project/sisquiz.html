<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>SisQuiz</title>
<style>
:root { --bg:#FCEFC8; --accent:#D5690E; --side-w:14vw; --side-max:220px; }
html,body{height:100%;margin:0;background:var(--bg);font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;color:#222}
.side-img{position:fixed;top:50%;transform:translateY(-50%);width:var(--side-w);max-width:var(--side-max);pointer-events:none;z-index:1;will-change:transform;opacity:0.95}
.side-left{left:0}
.side-right{right:0}
.content{position:relative;z-index:2;max-width:980px;margin:40px auto;padding:40px;box-sizing:border-box}
.header{font-size:64px;font-weight:800;color:var(--accent);text-align:center;margin:0;padding-top:20px}
.tagline{display:block;text-align:center;font-style:italic;font-family:cursive, "Brush Script MT", serif;margin-top:15px;color:#6b3f10}
.main-text{margin-top:24px;line-height:1.6;font-size:18px;color:#333;white-space:pre-wrap}
.gallery{display:flex;gap:12px;margin-top:24px}
.gallery img{width:100%;height:auto;display:block;border-radius:8px;object-fit:cover}
.gallery .item{flex:1}
.final-block{margin-top:24px;text-align:center}
.final-block p{line-height:1.6;font-size:18px;color:#333;white-space:pre-wrap}
.final-block img{max-width:80%;height:auto;margin-top:12px;border-radius:8px;display:block;margin-left:auto;margin-right:auto}
.footer{margin-top:12px;font-weight:600;color:var(--accent);text-align:center;font-size:18px}

/* smart image fade-in */
.smart-img{opacity:0;transition:opacity .35s ease-in}
.smart-img.loaded{opacity:1}

/* ensure content sits between side images */
@media(min-width:700px){
  .content{margin-left: calc(var(--side-w) + 20px); margin-right: calc(var(--side-w) + 20px)}
}
@media(max-width:699px){
  .side-img{display:none}
  .content{margin:20px}
  .header{font-size:40px}
}
</style>

<!-- override styles: larger tagline and centered text -->
<style>
.tagline{font-size:28px;font-style:italic;font-family:cursive, "Brush Script MT", serif;margin-top:8px;color:#6b3f10}
.content, .content *{text-align:center}
.main-text{font-size:18px}
.gallery .item{display:flex;align-items:center;justify-content:center}
.side-img{object-fit:contain}
</style>

<!-- increase sun and moon size specifically -->
<style>
/* increased 4.5x (previously 3x) */
#sun, #moon{width:calc(var(--side-w) * 4.5);max-width:calc(var(--side-max) * 4.5);transition:transform .35s ease}
#sun:hover, #moon:hover{transform:translateY(-50%) scale(1.02)}

/* gallery interactivity */
.gallery img{transition:transform .28s ease, box-shadow .28s ease;cursor:pointer}
.gallery img:hover{transform:scale(1.08);box-shadow:0 12px 30px rgba(0,0,0,.18)}
.gallery img:active{transform:scale(1.02)}
</style>

<!-- small right-shift for central content on wide screens -->
<style>
@media(min-width:700px){
  .content{transform:translateX(22px)}
}
</style>
</head>
<body>
<!-- updated img tags with absolute paths and extra fallbacks -->
<img data-filename="sun-na.webp" data-srclist="../sun-na.webp|/Users/mac/sis-quiz-numerical-art/na-sis-quiz/sun-na.webp|file:///Users/mac/sis-quiz-numerical-art/na-sis-quiz/sun-na.webp|../images/sun-na.webp|./images/sun-na.webp|sun-na.webp|./sun-na.webp|/images/sun-na.webp" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="sun" class="side-img side-left smart-img" id="sun">
<img data-filename="moon-na.webp" data-srclist="../moon-na.webp|/Users/mac/sis-quiz-numerical-art/na-sis-quiz/moon-na.webp|file:///Users/mac/sis-quiz-numerical-art/na-sis-quiz/moon-na.webp|../images/moon-na.webp|./images/moon-na.webp|moon-na.webp|./moon-na.webp|/images/moon-na.webp" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="moon" class="side-img side-right smart-img" id="moon">

<main class="content" role="main">
  <h1 class="header">SisQuiz</h1>
  <div class="tagline">Are you a nasty winner or a decent loser?</div>

  <p class="main-text">Let's find out with SisQuiz — the interactive web platform that gives quizzes another chance.
Explore themed quiz packages that blend classic trivia with quirky, unexpected challenges,
all wrapped in a distinctive design universe centered around two charming characters.</p>

  <div class="gallery" aria-label="Gallery">
    <div class="item"><img data-filename="play-session-1.webp" data-srclist="../play-session-1.webp|/Users/mac/sis-quiz-numerical-art/na-sis-quiz/play-session-1.webp|file:///Users/mac/sis-quiz-numerical-art/na-sis-quiz/play-session-1.webp|../images/play-session-1.webp|./images/play-session-1.webp|play-session-1.webp|./play-session-1.webp|/images/play-session-1.webp" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="play session 1" class="smart-img"></div>
    <div class="item"><img data-filename="play-session-2.webp" data-srclist="../play-session-2.webp|/Users/mac/sis-quiz-numerical-art/na-sis-quiz/play-session-2.webp|file:///Users/mac/sis-quiz-numerical-art/na-sis-quiz/play-session-2.webp|../images/play-session-2.webp|./images/play-session-2.webp|play-session-2.webp|./play-session-2.webp|/images/play-session-2.webp" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="play session 2" class="smart-img"></div>
    <div class="item"><img data-filename="question-session-3.webp" data-srclist="../question-session-3.webp|/Users/mac/sis-quiz-numerical-art/na-sis-quiz/question-session-3.webp|file:///Users/mac/sis-quiz-numerical-art/na-sis-quiz/question-session-3.webp|../images/question-session-3.webp|./images/question-session-3.webp|question-session-3.webp|./question-session-3.webp|/images/question-session-3.webp" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="question session 3" class="smart-img"></div>
  </div>

  <div class="final-block">
    <p>Each category features original artwork and carefully crafted soundscapes for a truly immersive experience.
Perfect for adding some spice to dinners, parties, or team events.</p>
    <img data-filename="play-session-4.webp" data-srclist="../play-session-4.webp|/Users/mac/sis-quiz-numerical-art/na-sis-quiz/play-session-4.webp|file:///Users/mac/sis-quiz-numerical-art/na-sis-quiz/play-session-4.webp|../images/play-session-4.webp|./images/play-session-4.webp|play-session-4.webp|./play-session-4.webp|/images/play-session-4.webp" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="play session 4" class="smart-img">
    <div class="footer">SisQuiz makes any gathering worth happening</div>
  </div>
</main>

<script>
(function(){
  var sun = document.getElementById('sun');
  var moon = document.getElementById('moon');
  var speedSun = 0.12;
  var speedMoon = 0.08;
  function onScroll(){
    var y = window.scrollY || window.pageYOffset;
    if(sun) sun.style.transform = 'translateY(-50%) translateY(' + (y * speedSun) + 'px)';
    if(moon) moon.style.transform = 'translateY(-50%) translateY(' + (y * speedMoon) + 'px)';
  }
  window.addEventListener('scroll', onScroll, {passive:true});
  onScroll();

  // smart image loader: tries multiple candidate paths until one loads
  function loadSmartImages(){
    var imgs = document.querySelectorAll('img.smart-img');
    imgs.forEach(function(img){
      var list = (img.getAttribute('data-srclist') || '').split('|').map(function(s){ return s.trim(); }).filter(Boolean);
      if(!list.length) return;
      var placeholder = img.src;
      var tryNext = function(i){
        if(i >= list.length) return;
        var url = list[i];
        var tester = new Image();
        tester.onload = function(){ img.src = url; img.classList.add('loaded'); };
        tester.onerror = function(){ tryNext(i+1); };
        tester.src = url;
      };
      tryNext(0);
    });
  }
  window.addEventListener('load', loadSmartImages);
})();
</script>

<script>
// additional fallback loader: tries extra relative paths and inserts SVG placeholder if none load
(function(){
  function augmentLoader(){
    var imgs = document.querySelectorAll('img.smart-img');
    imgs.forEach(function(img){
      if(img.classList.contains('loaded')) return;
      var raw = (img.getAttribute('data-srclist')||'').split('|').map(function(s){return s.trim();}).filter(Boolean);
      if(!raw.length) return;
      // build expanded candidate list
      var candidates = [];
      raw.forEach(function(u){ if(candidates.indexOf(u)===-1) candidates.push(u); var name = u.split('/').pop(); var alt1 = './'+name; var alt2 = './images/'+name; if(candidates.indexOf(alt1)===-1) candidates.push(alt1); if(candidates.indexOf(alt2)===-1) candidates.push(alt2); });
      var tried = 0;
      (function tryNext(i){
        if(i >= candidates.length){
          // fallback: inline SVG placeholder with filename
          var fallbackName = (raw[0].split('/').pop()) || 'image';
          var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="800" height="520"><rect width="100%" height="100%" fill="#f3e6c9"/><text x="50%" y="50%" font-family="Arial, Helvetica, sans-serif" font-size="20" text-anchor="middle" fill="#b07a3a">'+fallbackName+'\nnot found</text></svg>';
          img.src = 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
          img.classList.add('loaded');
          console.warn('SmartImage: fallback used for', fallbackName);
          return;
        }
        var url = candidates[i];
        var tester = new Image();
        tester.onload = function(){ img.src = url; img.classList.add('loaded'); };
        tester.onerror = function(){ tryNext(i+1); };
        tester.src = url;
      })(0);
    });
  }
  window.addEventListener('DOMContentLoaded', augmentLoader);
  window.addEventListener('load', augmentLoader);
})();
</script>

<script>
// updated augmentLoader: prioritize ../images and log attempts
(function(){
  function augmentLoader(){
    var imgs = document.querySelectorAll('img.smart-img');
    imgs.forEach(function(img){
      if(img.classList.contains('loaded')) return;
      var filename = img.getAttribute('data-filename') || (img.getAttribute('data-srclist')||'').split('|')[0];
      if(!filename) return;
      if(filename.indexOf('/')>=0) filename = filename.split('/').pop();
      var candidates = [
        '../images/'+filename,
        './images/'+filename,
        'images/'+filename,
        './'+filename,
        filename,
        '/images/'+filename
      ];
      var i = 0;
      (function tryNext(){
        if(i >= candidates.length){
          var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="800" height="520"><rect width="100%" height="100%" fill="#f3e6c9"/><text x="50%" y="50%" font-family="Arial, Helvetica, sans-serif" font-size="20" text-anchor="middle" fill="#b07a3a">'+filename+' not found</text></svg>';
          img.src = 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
          img.classList.add('loaded');
          console.warn('SmartImage: fallback used for', filename);
          return;
        }
        var url = candidates[i++];
        console.debug('SmartImage: trying', url);
        var tester = new Image();
        tester.onload = function(){ img.src = url; img.classList.add('loaded'); console.info('SmartImage: loaded', url); };
        tester.onerror = function(){ tryNext(); };
        tester.src = url;
      })();
    });
  }
  window.addEventListener('DOMContentLoaded', augmentLoader);
  window.addEventListener('load', augmentLoader);
})();
</script>

<script>
// gallery interaction: click to open full image
(function(){
  function safeOpenImage(img){
    var src = img.src || '';
    if(img.classList.contains('loaded') && src && !src.startsWith('data:image/svg+xml')){
      window.open(src, '_blank');
      return;
    }
    // fallback: try first candidate from data-srclist
    var list = (img.getAttribute('data-srclist')||'').split('|').map(function(s){return s.trim();}).filter(Boolean);
    if(list.length){ window.open(list[0], '_blank'); return; }
    console.warn('Gallery: no image to open for', img);
  }
  var galleryImgs = document.querySelectorAll('.gallery img.smart-img');
  galleryImgs.forEach(function(img){
    img.setAttribute('title','Открыть изображение (клик)');
    img.addEventListener('click', function(e){ safeOpenImage(img); });
    img.addEventListener('keydown', function(e){ if(e.key==='Enter' || e.key===' ') safeOpenImage(img); });
    // accessibility: make focusable
    img.setAttribute('tabindex','0');
  });
})();
</script>
</body>
</html>
